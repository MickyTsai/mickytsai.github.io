---
title: "Mac上遇到cocoa pod無法安裝三方套件的解決方法"
author: "Micky Tsai"
date: 2022-02-26T10:16:26.720+0000
last_modified_at: 2024-02-29T04:59:21.751+0000
categories: [""]
tags: []
description: "第二次踩雷，這次爆炸了…."
image:
  path: /assets/fe3e91dee2fc/1*V-Vp9TYzPeo5T3Y-cud6jg.png
render_with_liquid: false
---

### Mac上遇到cocoa pod無法安裝三方套件的解決方法

第二次踩雷，這次爆炸了…\.


> 先說，其實也不確定是不是Mac M1晶片的問題，不過周邊同事都是這種機型爆炸就是了…，因為解法有點麻煩，也就當做個紀錄。 





事發緣由：
1. 當 Homebrew 看官網操作順利安裝完
2. 然後 CocoaPods 也看官網順利安裝完
3. 一切感覺就是順暢美好，然後開始要裝三方時，就變跟最近台北的天氣一樣了 …\. \.



![錯誤訊息上半部…\.因為很長，中間忽略](/assets/fe3e91dee2fc/1*V-Vp9TYzPeo5T3Y-cud6jg.png)

錯誤訊息上半部…\.因為很長，中間忽略


![錯誤訊息下半部](/assets/fe3e91dee2fc/1*IbvCObe4V5Wa2thpqSCp9g.png)

錯誤訊息下半部

這時菜鳥工程師發揮先自己找解法精神，找到了一行指令：

arch \-x86\_64 pod install

恩…\.沒效果…\.（有些人有用）

然後就是四處再找，然後數小時過後就是心態爆炸，亂用網站查到的解法，也不確定指定是在幹嘛，反正看到好像問題是一樣的用。

不斷試毒的結果，就是爆炸了，用了關於 sudo的指定，改到好像關於使用者的權限，然後就是什麼程式安裝都會卡在工序驗證階段，開機超久，終端機下指令不會回你等等。

嚇到趕快找資深的同事求救，最後評估還不如先重罐系統，先回到最初問題。還好專案都有 push上去，就乾脆重灌了。以上地雷爆炸過程。

真正處理這問題：

重罐後，回到最初一開始cocoa pod還是無法裝三方問題，還呼叫了更資深大大求助，分析了一下問題應該是 Cocoa Pods 所需的 Ruby 與 Mac 內建的衝突（不確定是不是M1晶片原因），這是透過官網上的安裝指定會發生的問題， **所以需要透過 Homebrew 來安裝 CocoaPods** 。指令是：

brew install cocoapods


> 這邊有發生一個插曲， Homebrew 的安裝其實沒我想像中的順利，其實安裝完時有跳警告 






![Homebrew安裝完時的警告提示](/assets/fe3e91dee2fc/1*8Z1N281TMxIKS4hnNYHI_A.png)

Homebrew安裝完時的警告提示

大概是 Homebrew的所在路徑，不在電腦配置的設定裡，所以在終端機中打 brew…\.等等指定，終端機是找不到 Homebrew 的。

[macos — After installing Homebrew I get \`zsh: command not found: brew\` — Stack Overflow](https://stackoverflow.com/questions/36657321/after-installing-homebrew-i-get-zsh-command-not-found-brew){:target="_blank"}

這是大大找到解方，大致上內容意思就是要你找到 \. zshrc 這個檔案並加上裡面說明的路徑：


![](/assets/fe3e91dee2fc/1*yJsI39IaozUdjlRQl4U8TA.png)


整理一下步驟：
- 先到根目錄 cd ~
- 輸入 ls \-a \(先找看看有沒有 \.zshrc 檔案\)
- 如果沒有 就建立一個 （輸入 touch \.zshrc）
- 輸入 vi \.zshrc （修改 \.zshrc）或到資料夾中直接點兩下打開編輯
- 輸入 export PATH=/opt/homebrew/bin:$PATH



![輸入好後記得儲存（按esc結束編輯，輸入:wq 儲存並離開。要再編輯按i切換）](/assets/fe3e91dee2fc/1*LM3ehyoDUeRliRwQ7WdhNQ.png)

輸入好後記得儲存（按esc結束編輯，輸入:wq 儲存並離開。要再編輯按i切換）
- 重新打開終端機就完成了


這時重新用指令：

brew install cocoapods

應該能正常安裝

而且 pod init 後 pod install 應該就都能正常運作了！


> 花了半天時間地雷踩好踩滿，又花半天重罐加呼叫大大幫忙，對於遇到困難設停損點的能力要再加強。希望有幫到其他一樣遇到問題的人。 






_[Post](https://medium.com/@micky1127/mac%E4%B8%8A%E9%81%87%E5%88%B0cocoa-pod%E7%84%A1%E6%B3%95%E5%AE%89%E8%A3%9D%E4%B8%89%E6%96%B9%E5%A5%97%E4%BB%B6%E7%9A%84%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95-fe3e91dee2fc){:target="_blank"} converted from Medium by [ZMediumToMarkdown](https://github.com/ZhgChgLi/ZMediumToMarkdown){:target="_blank"}._
